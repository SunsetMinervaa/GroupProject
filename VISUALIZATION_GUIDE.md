# 翻译策略可视化分析指南

## 文件说明

### `04_text_clustering_visualization_2.py`

**功能**：三元对比可视化 - 英文原文 vs 归化翻译 vs 异化翻译

**研究目标**：通过将三种文本放在同一个语义空间中，直观观察哪种翻译策略更接近英文原文。

## 快速开始

### 1. 运行脚本

```bash
python 04_text_clustering_visualization_2.py
```

### 2. 预期输出

脚本会生成两个HTML文件：
- `translation_comparison_2d.html` - 2D散点图
- `translation_comparison_3d.html` - 3D散点图（可旋转）

### 3. 运行时间

- 200组样本（600个文本点）：约5-10分钟
- 如需更多样本，修改第464行的 `sample_size` 参数

## 可视化元素说明

### 颜色和形状

| 类型 | 颜色 | 形状 | 说明 |
|------|------|------|------|
| 英文原文 | 🟢 绿色 | ● 圆形 | 源文本，参照基准 |
| 归化翻译 | 🔵 蓝色 | ■ 方形 | 官方中文（original_zh_text） |
| 异化翻译 | 🔴 红色 | ◆ 菱形 | 重译版本（translated_text） |

### 交互功能

#### 2D图
- **鼠标悬停**：显示文本内容
- **点击图例**：隐藏/显示特定类型
- **拖动**：移动视图
- **滚轮**：缩放

#### 3D图
- **拖动**：旋转视图
- **滚轮**：缩放
- **Shift+拖动**：平移
- **双击**：重置视图

## 距离统计分析

### 输出示例

```
距离分析：计算翻译策略与英文原文的语义距离
================================================================================

归化翻译与英文原文的平均距离: 12.3456
异化翻译与英文原文的平均距离: 15.7890
差异: +3.4434

结论: 归化翻译在语义空间中更接近英文原文
  -> 归化策略可能更好地保留了源文本的核心语义

详细统计:
  归化距离 - 最小: 8.1234, 最大: 18.5678, 标准差: 2.3456
  异化距离 - 最小: 10.2345, 最大: 22.6789, 标准差: 3.4567
```

### 指标解读

#### 平均距离
- **数值越小** = 翻译越接近原文语义
- **差异为正** = 异化距离更大（归化更接近）
- **差异为负** = 归化距离更大（异化更接近）

#### 标准差
- **标准差大** = 翻译策略不一致，有些文本翻译偏离大
- **标准差小** = 翻译策略一致

## 观察要点

### 1. 聚类模式

**问题**：三种文本是否各自形成簇？

- ✅ **形成三个独立的簇** → 策略差异明显
- ⚠️ **部分重叠** → 某些情况下策略相似
- ❌ **完全混合** → 策略差异不明显

### 2. 相对距离

**问题**：蓝色（归化）和红色（异化）哪个更靠近绿色（英文）？

- **蓝色更靠近绿色** → 归化策略更接近原文
- **红色更靠近绿色** → 异化策略更接近原文
- **距离相近** → 两种策略效果相似

### 3. 分布形态

**问题**：点的分布是紧密还是分散？

- **紧密聚集** → 翻译一致性高
- **分散分布** → 翻译多样性高，可能保留更多细微差别

### 4. 特殊案例

**寻找**：
- 距离特别远的点（翻译偏差大）
- 距离特别近的点（翻译准确）
- 孤立的点（特殊处理）

## 参数调整

### 修改采样大小

编辑第464行：

```python
# 少量快速测试（50组 = 150个点）
visualizer.load_data("cleaned.json", sample_size=50)

# 标准分析（200组 = 600个点）
visualizer.load_data("cleaned.json", sample_size=200)

# 大规模分析（500组 = 1500个点，较慢）
visualizer.load_data("cleaned.json", sample_size=500)

# 全部数据（5394组 = 16182个点，非常慢）
visualizer.load_data("cleaned.json", sample_size=None)
```

### 调整降维参数

t-SNE的 `perplexity` 参数（第469行和第477行）：

```python
# 小数据集（<100组）
visualizer.reduce_dimensions_2d(perplexity=15)

# 中等数据集（100-300组）- 默认
visualizer.reduce_dimensions_2d(perplexity=30)

# 大数据集（>300组）
visualizer.reduce_dimensions_2d(perplexity=50)
```

**规则**：perplexity 通常在 5-50 之间，建议设为样本数的 1/10 到 1/5

## 研究应用

### 适合的研究问题

1. **策略有效性**
   - 哪种翻译策略更好地保留了源文本语义？

2. **语义偏移**
   - 翻译过程中语义偏移了多少？
   - 偏移的方向是什么？

3. **策略一致性**
   - 不同文本的翻译策略是否一致？
   - 是否存在系统性的翻译模式？

4. **文本类型影响**
   - 短文本和长文本的翻译策略差异
   - 对话、叙述、诗歌的翻译模式

### 扩展分析方向

1. **按文本长度分类**
   - 修改代码，为不同长度的文本使用不同颜色
   - 观察长度是否影响翻译策略

2. **添加连线**
   - 连接同源文本的三个译本
   - 直观看出每组的翻译偏移

3. **热力图**
   - 在2D图上叠加密度热力图
   - 识别高密度区域

4. **动态筛选**
   - 根据距离阈值筛选文本
   - 聚焦于特别近或特别远的案例

## 常见问题

### Q1: 运行很慢怎么办？

**A**: 减少采样大小：
```python
visualizer.load_data("cleaned.json", sample_size=50)
```

### Q2: 三种文本完全混在一起？

**A**: 可能原因：
1. 翻译策略差异确实不大
2. perplexity参数需要调整
3. 尝试增加样本量

### Q3: 图表打不开或显示不正常？

**A**: 
1. 确保使用现代浏览器（Chrome、Firefox、Edge）
2. 检查文件是否完整生成
3. 查看控制台是否有错误信息

### Q4: 如何保存研究结果？

**A**: 
1. HTML文件可以直接保存和分享
2. 在浏览器中右键 → "另存为图片" 保存截图
3. 距离统计结果可以复制粘贴到论文中

## 技术细节

### 降维算法：t-SNE

**原理**：
- t-SNE (t-distributed Stochastic Neighbor Embedding)
- 保留局部结构，相似的点聚在一起
- 将4096维向量降到2D/3D

**特点**：
- 每次运行结果略有不同（设置random_state=42保证可重复）
- 全局距离不完全准确（局部距离更可靠）
- 主要用于可视化，不用于精确距离测量

### 距离计算：欧氏距离

```python
distance = sqrt((x1-x2)² + (y1-y2)²)  # 2D
distance = sqrt((x1-x2)² + (y1-y2)² + (z1-z2)²)  # 3D
```

**注意**：降维后的距离是近似值，主要用于相对比较。

## 结果报告模板

```markdown
# 翻译策略语义空间分析

## 数据
- 样本数量：200组（600个文本点）
- 数据来源：cleaned.json

## 主要发现

### 1. 距离分析
- 归化翻译平均距离：XX.XX
- 异化翻译平均距离：XX.XX
- 结论：[归化/异化]策略更接近英文原文

### 2. 聚类模式
- [描述观察到的聚类现象]

### 3. 特殊案例
- [列举距离特别远/近的案例]

## 可视化
[插入2D/3D截图]

## 结论
[总结研究发现]
```

## 下一步

1. ✅ 运行 `04_text_clustering_visualization_2.py`
2. ✅ 在浏览器中打开生成的HTML文件
3. ✅ 观察并记录主要发现
4. ✅ 调整参数尝试不同配置
5. ✅ 结合具体文本内容深入分析
6. ✅ 撰写研究报告

---

**祝研究顺利！** 🎉


